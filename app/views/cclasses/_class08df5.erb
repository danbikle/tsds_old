<code class='python'>
# class08c.py

# This script should help me do the lab of class08.
# Ref:
# http://www.tsds4.us/cclasses/class08#lab

# Demo:
# python class08c.py

import pandas as pd
import numpy  as np

allpredictions_df = pd.read_csv('allpredictions.csv')
datepp_df         = allpredictions_df[['cdate','cp','prob_lr']]

# I should use NumPy to compute pct-lead for each cp.

cp_a              = np.array(datepp_df['cp'])
# I should get the last element, copy it, append it:
last_elem_a       = cp_a[-1:]
lead_1toolong_a   = np.append(cp_a,last_elem_a)
# That is too long; I remove first element:
lead_a            = lead_1toolong_a[1:]
# I should test:
len(cp_a) == len(lead_a) # should be True

# I should use arithmetic:
pctlead_a = 100.0 * (lead_a - cp_a) / cp_a
# If this were JavaScript, I'd need to use a loop here.

# I should create a DataFrame with four columns:
dateppl_df            = datepp_df.copy() # first 3 columns
dateppl_df['pctlead'] = list(pctlead_a) # 4th

print(dateppl_df.tail())

'bye'
</code>
